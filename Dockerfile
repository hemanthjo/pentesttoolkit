#image
FROM amd64/ubuntu:23.04

#labels
LABEL \
author="Hemanth Joseph"
#env_variables
ENV HOME /root
WORKDIR /root

#essentials
#https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#run
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
    python3\
    git\
    dirb\
    nmap\
    curl\
    wget\
    python3-pip\
    build-essential\
    hping3\
    python2\
    sudo\
    nano\
    vim\
    sqlmap
RUN mkdir /root/tools
RUN mkdir /root/wordlist
RUN mkdir /root/commands
#gosetup
RUN wget https://go.dev/dl/go1.19.linux-amd64.tar.gz && \
    tar -xvf go1.19.linux-amd64.tar.gz && \
    rm -rf /root/go1.19.linux-amd64.tar.gz && \
    mv go /usr/local
ENV GOROOT /usr/local/go
ENV GOPATH /root/go
ENV PATH ${GOPATH}/bin:${GOROOT}/bin:${PATH}
#tools
RUN go install github.com/OJ/gobuster/v3@latest
RUN go install -v github.com/OWASP/Amass/v3/...@master
RUN cd ${HOME}/tools && \
    git clone https://github.com/blechschmidt/massdns.git && \
    cd massdns && \
    make && \
    ln -sf ${HOME}/tools/massdns/bin/massdns /usr/local/bin/massdns
RUN go install -v github.com/projectdiscovery/shuffledns/cmd/shuffledns@latest
RUN go install -v github.com/projectdiscovery/nuclei/v2/cmd/nuclei@latest
RUN go install -v github.com/projectdiscovery/subfinder/v2/cmd/subfinder@latest
RUN go install -v github.com/projectdiscovery/httpx/cmd/httpx@latest
RUN go install -v github.com/projectdiscovery/interactsh/cmd/interactsh-client@latest
RUN go install github.com/tomnomnom/waybackurls@latest
RUN pip3 install py-altdns==1.0.2
RUN cd ${HOME}/tools && \
    git clone https://github.com/robertdavidgraham/masscan && \
    cd masscan && \
    make && \
    ln -sf ${HOME}/tools/masscan/bin/masscan /usr/local/bin/massscan
RUN pip install webtech

#wordlist
#RUN cd {HOME}/wordlist && \
    #git clone https://github.com/danielmiessler/SecLists.git

RUN cd ${HOME}/wordlist && \
    wget https://github.com/trickest/wordlists/blob/main/inventory/subdomains.txt && \
    wget https://raw.githubusercontent.com/trickest/wordlists/main/inventory/parameters.txt && \
    wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/raft-large-directories.txt && \
    wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/directory-list-2.3-medium.txt

RUN cd ${HOME}/tools && \
    git clone https://github.com/GerbenJavado/LinkFinder.git && \
    cd LinkFinder && \
    pip install -r requirements.txt && \
    python3 setup.py install
